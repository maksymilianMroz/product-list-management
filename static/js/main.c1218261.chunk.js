(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{15:function(e,t,n){e.exports=n(27)},23:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(7),o=n.n(c),i=n(2),u=n(9),s=Object(u.b)({name:"products",initialState:{items:{},areLoaded:!1,areReloading:!1,isEditing:!1,editableProduct:{},isModalShow:!1},reducers:{getProducts:function(e,t){e.items=t.payload.items,e.areLoaded=!0,e.areReloading=!0,e.isModalShow=!1},removeProducts:function(e){e.areReloading=!1},addProduct:function(e){e.areReloading=!1,e.isModalShow=!1},editProductOn:function(e,t){e.isEditing=!0,e.editableProduct=t.payload,e.isModalShow=!0},editProductOff:function(e){e.isEditing=!1,e.areReloading=!1,e.isModalShow=!1},showModal:function(e){e.isModalShow=!0}}}),l=s.actions,d=s,m=Object(u.a)({reducer:{products:d.reducer}}),p=(n(23),n(1)),f=n.n(p),b=n(3),v=function(){return function(){var e=Object(b.a)(f.a.mark(function e(t){var n,a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=function(){var e=Object(b.a)(f.a.mark(function e(){var t,n;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://rweqkhiads.cdprojektred.com:3000/api/Products");case 2:if((t=e.sent).ok){e.next=5;break}throw new Error("Fetching went wrong");case 5:return e.next=7,t.json();case 7:return n=e.sent,e.abrupt("return",n);case 9:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,n();case 4:a=e.sent,t(l.getProducts({items:a||{}})),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),new Error("Fetching went wrong "+e.t0);case 11:case"end":return e.stop()}},e,null,[[1,8]])}));return function(t){return e.apply(this,arguments)}}()},g=n(13),h=n(5),w=n(14),E=["indeterminate"],O=Object(a.forwardRef)(function(e,t){var n=e.indeterminate,c=Object(w.a)(e,E),o=Object(a.useRef)(),i=t||o;return Object(a.useEffect)(function(){i.current.indeterminate=n},[i,n]),r.a.createElement(r.a.Fragment,null,r.a.createElement("input",Object.assign({type:"checkbox",ref:i},c)))}),j=n(30),y=function(e){var t=e.column,n=t.filterValue,a=t.setFilter;return r.a.createElement("span",{className:"column-filter"},"Search"," ",r.a.createElement("input",{value:n||"",onChange:function(e){return a(e.target.value)},className:"column-filter-input"}))},P=[{Header:"ID",accessor:"id",Filter:y,disableFilters:!0},{Header:"Name",accessor:"name",Filter:y},{Header:"Quantity",accessor:"quantity",Filter:y},{Header:"Date",accessor:"date",Cell:function(e){var t=e.value;return Object(j.a)(new Date(t),"dd/MM/yyyy")},Filter:y},{Header:"Description",accessor:"description",Filter:y},{Header:"Email",accessor:"email",Filter:y}],N=function(e){var t=e.filter,n=e.setFilter;return r.a.createElement("span",{className:"global-filter"},"Search"," ",r.a.createElement("input",{value:t||"",onChange:function(e){return n(e.target.value)},className:"global-filter-input"}))},k=(n(26),{overflowX:"scroll"}),x=function(){var e=Object(i.b)(),t=Object(i.c)(function(e){return e.products.items}),n=Object(a.useMemo)(function(){return P},[]),c=Object(a.useMemo)(function(){return t},[t]),o=Object(h.useTable)({columns:n,data:c,initialState:{pageIndex:0}},h.useFilters,h.useGlobalFilter,h.useSortBy,h.usePagination,h.useRowSelect,function(e){e.visibleColumns.push(function(e){return[{id:"selection",Header:function(e){var t=e.getToggleAllRowsSelectedProps;return r.a.createElement(O,t())},Cell:function(e){var t=e.row;return r.a.createElement(O,t.getToggleRowSelectedProps())}}].concat(Object(g.a)(e))})}),u=o.getTableProps,s=o.getTableBodyProps,d=o.headerGroups,m=o.page,p=o.prepareRow,v=o.state,w=o.setGlobalFilter,E=o.nextPage,j=o.previousPage,y=o.canNextPage,x=o.canPreviousPage,S=o.pageOptions,C=o.gotoPage,F=o.pageCount,R=o.setPageSize,M=o.selectedFlatRows,D=v.pageIndex,T=v.pageSize,H=v.globalFilter;return r.a.createElement("div",{style:k},r.a.createElement(N,{filter:H,setFilter:w}),r.a.createElement("table",u(),r.a.createElement("thead",null,d.map(function(e){return r.a.createElement("tr",e.getHeaderGroupProps(),e.headers.map(function(e){return r.a.createElement("th",e.getHeaderProps(e.getSortByToggleProps()),e.render("Header"),r.a.createElement("span",null,e.isSorted?e.isSortedDesc?" \u2b07\ufe0f":" \u2b06\ufe0f":""))}))})),r.a.createElement("tbody",s(),m.map(function(e){return p(e),r.a.createElement("tr",e.getRowProps(),e.cells.map(function(e){return r.a.createElement("td",e.getCellProps(),e.render("Cell"))}))}))),r.a.createElement("div",{className:"options-bar"},r.a.createElement("button",{onClick:function(){return C(0)},disabled:!x,className:"first-btn"},"<<"),r.a.createElement("button",{onClick:function(){return j()},disabled:!x,className:"prev-btn"},"Previous"),r.a.createElement("span",null,"  ","Page"," ",r.a.createElement("strong",null,D+1," of ",S.length),"  "),r.a.createElement("span",null,"| Go to page:"," ",r.a.createElement("input",{type:"number",defaultValue:D+1,onChange:function(e){var t=e.target.value?Number(e.target.value)-1:0;C(t)},style:{width:"50px"},className:"go-to-page"})),r.a.createElement("select",{value:T,onChange:function(e){return R(Number(e.target.value))},className:"how-many-products"},[10,20,40,80].map(function(e){return r.a.createElement("option",{key:e,value:e},"Show ",e)})),r.a.createElement("button",{onClick:function(){return E()},disabled:!y,className:"next-btn"},"Next"),r.a.createElement("button",{onClick:function(){return C(F-1)},disabled:!y,className:"last-btn"},">>")," ",r.a.createElement("button",{onClick:function(){var t=M.map(function(e){return e.values.id});e(function(e,t){return function(){var t=Object(b.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){var t=Object(b.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.forEach(function(){var e=Object(b.a)(f.a.mark(function e(t){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://rweqkhiads.cdprojektred.com:3000/api/Products/".concat(t),{method:"DELETE"});case 2:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,a();case 4:n(l.removeProducts()),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),new Error("Deleting went wrong "+t.t0);case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()}(t)),void 0!==t[0]||alert("You should choose item first")},className:"delete-btn"},"Delete Product/s")," ",r.a.createElement("button",{onClick:function(){var t=M.map(function(e){return e.values});t.length>1?alert("You can only edit one item at a time"):void 0!==t[0]?e(l.editProductOn(t[0])):alert("You should choose item first")},className:"edit-btn"},"Edit Product"),r.a.createElement("button",{onClick:function(){e(l.showModal())},className:"add-new-btn"},"Add New Product")))},S=n(4),C=(new Date).toISOString(),F=new RegExp(/^(("[\w-\s]+")|([\w-]+(?:\.[\w-]+)*)|("[\w-\s]+")([\w-]+(?:\.[\w-]+)*))(@((?:[\w-]+\.)*\w[\w-]{0,66})\.([a-z]{2,6}(?:\.[a-z]{2})?)$)|(@\[?((25[0-5]\.|2[0-4][0-9]\.|1[0-9]{2}\.|[0-9]{1,2}\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\]?$)/i),R=function(){var e=Object(i.b)(),t=Object(a.useState)(0),n=Object(S.a)(t,2),c=n[0],o=n[1],u=Object(a.useState)(""),s=Object(S.a)(u,2),d=s[0],m=s[1],p=Object(a.useState)(!0),v=Object(S.a)(p,2),g=v[0],h=v[1],w=Object(a.useState)(0),E=Object(S.a)(w,2),O=E[0],j=E[1],y=Object(a.useState)(),P=Object(S.a)(y,2),N=P[0],k=P[1],x=Object(a.useState)(""),R=Object(S.a)(x,2),M=R[0],D=R[1],T=Object(a.useState)(""),H=Object(S.a)(T,2),q=H[0],G=H[1],I=Object(a.useState)(!0),z=Object(S.a)(I,2),B=z[0],J=z[1],L=Object(i.c)(function(e){return e.products.isEditing}),A=Object(i.c)(function(e){return e.products.editableProduct});return Object(a.useEffect)(function(){var e=A.id,t=A.name,n=A.quantity,a=A.description,r=A.email;o(e),m(t),j(n),k(C),D(a),G(r)},[A]),r.a.createElement("form",{onSubmit:function(t){if(t.preventDefault(),""!==d.trim())if(d.trim().length<5)h(!1);else if("undefined"===typeof q||F.test(q)){h(!0),J(!0),m(""),j(0),D(""),G(""),k(""),o("");var n,a={name:d,quantity:O,date:N,description:M,email:q};if(L)return e((n={id:c,name:d,quantity:O,date:N,description:M,email:q},function(){var e=Object(b.a)(f.a.mark(function e(t){var a;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=function(){var e=Object(b.a)(f.a.mark(function e(){return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://rweqkhiads.cdprojektred.com:3000/api/Products",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});case 2:if(e.sent.ok){e.next=5;break}throw new Error("Editing went wrong");case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),e.prev=1,e.next=4,a();case 4:t(l.editProductOff()),e.next=10;break;case 7:throw e.prev=7,e.t0=e.catch(1),new Error("Editing went wrong "+e.t0);case 10:case"end":return e.stop()}},e,null,[[1,7]])}));return function(t){return e.apply(this,arguments)}}())),m(""),j(0),D(""),G(""),k(""),void o("");e(function(e){return function(){var t=Object(b.a)(f.a.mark(function t(n){var a;return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a=function(){var t=Object(b.a)(f.a.mark(function t(){return f.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("http://rweqkhiads.cdprojektred.com:3000/api/Products",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 2:if(t.sent.ok){t.next=5;break}throw new Error("Sending went wrong");case 5:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),t.prev=1,t.next=4,a();case 4:n(l.addProduct()),t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(1),new Error("Sending went wrong "+t.t0);case 10:case"end":return t.stop()}},t,null,[[1,7]])}));return function(e){return t.apply(this,arguments)}}()}(a))}else J(!1);else h(!1)},className:"form-container"},r.a.createElement("div",{className:"form-control"},r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{className:"input-label",htmlFor:"name"},"Name:"),r.a.createElement("input",{type:"text",id:"name",onChange:function(e){m(e.target.value),k(C)},value:d}),!g&&r.a.createElement("p",{className:"validation-info"},"The name must be at least 5 characters long")),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{className:"input-label",htmlFor:"name"},"Quantity:"),r.a.createElement("input",{type:"number",id:"quantity",onChange:function(e){j(e.target.value),k(C)},value:O})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{className:"input-label",htmlFor:"name"},"Description:"),r.a.createElement("input",{type:"text",id:"description",onChange:function(e){D(e.target.value),k(C)},value:M})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",{className:"input-label",htmlFor:"name"},"Email:"),r.a.createElement("input",{type:"text",id:"email",onChange:function(e){G(e.target.value),k(C)},value:q}),!B&&r.a.createElement("p",{className:"validation-info"},"Enter a valid email address"))),r.a.createElement("div",{className:"form-actions"},r.a.createElement("button",{className:"form-actions-btn"},"Submit"),r.a.createElement("button",{className:"form-actions-cancel-btn",onClick:function(t){t.preventDefault(),m(""),j(0),D(""),G(""),h(!0),J(!0),k(""),o(""),e(l.editProductOff())},type:"reset"},"Cancel")))},M=function(){var e=Object(i.b)(),t=Object(i.c)(function(e){return e.products.areLoaded}),n=Object(i.c)(function(e){return e.products.areReloading}),c=Object(i.c)(function(e){return e.products.isModalShow});return Object(a.useEffect)(function(){e(v())},[e]),Object(a.useEffect)(function(){e(v())},[e,!n]),r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"table-container"},t&&r.a.createElement(x,null)),c&&r.a.createElement(R,null))};o.a.render(r.a.createElement(i.a,{store:m},r.a.createElement(M,null)),document.getElementById("root"))}},[[15,1,2]]]);
//# sourceMappingURL=main.c1218261.chunk.js.map